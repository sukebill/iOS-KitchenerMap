//
//  AboutViewController.swift
//  KitchenerMap
//
//  Created by GiorgosHadj on 02/01/2020.
//  Copyright © 2020 GiorgosHadj. All rights reserved.
//

import UIKit
import SafariServices

class AboutViewController: UIViewController {
    
    @IBOutlet weak var label: UILabel!

    override func viewDidLoad() {
        super.viewDidLoad()

        let isGreek = LocaleHelper.shared.language == .greek
        let greekText = "Το 1885 εκδόθηκε στο Λονδίνο από τον Edward Stanford, της οδού 55 Charing Cross, S.W., ο χάρτης του Horatio Herbert Kitchener που προέκυψε από την πρώτη επιστημονική χαρτογράφηση της Κύπρου.\n\nΟ χάρτης τυπώθηκε σε δεκαέξι φύλλα και αποτέλεσε χαρτογραφικό πρότυπο έως τα μέσα του 20ού αιώνα. Ο χάρτης αυτός, ο οποίος θεωρείται κομβικής σημασίας για τη χαρτογραφία της Κύπρου, περιέχει πληθώρα αξιόλογων πληροφοριών γεωγραφικού, ιστορικού αλλά και πολιτισμικού ενδιαφέροντος για το νησί. Πολλές από αυτές τις πληροφορίες χρήζουν, ακόμα και στις μέρες μας, προσεκτικής διερεύνησης από την επιστημονική κοινότητα.\n\nΜε δεδομένο το ιδιαίτερο ενδιαφέρον του Sylvia Ioannou Foundation για την ιστορική χαρτογραφία της Κύπρου, αλλά και το ενδιαφέρον του Τμήματος Γεωγραφίας του Χαροκοπείου Πανεπιστημίου για την επιστημονική προσέγγιση ανάλογων θεμάτων, αναπτύχθηκε η παρούσα εφαρμογή του χάρτη του Kitchener για την Κύπρο.\n\nΕπομένως, η εφαρμογή, εκτός από την ιδιαίτερη αξία της για τη Χαρτογραφία, τη Γεωγραφία, την Ιστορία και τον πολιτισμό της Κύπρου, φιλοδοξεί να αποτελέσει εφαλτήριο διεπιστημονικής συνεργασίας και να προσφέρει την απαραίτητη τεχνογνωσία για τη μελλοντική ανάπτυξη παρεμφερών ερευνητικών έργων.\n\nΚατά την περίοδο της Οθωμανικής Αυτοκρατορίας λειτουργούσε στην Κύπρο Οθωμανικός Κώδικας Γαιών, δηλαδή κτηματολόγιο όπου καταγράφονταν με σκαριφήματα και περιγραφές στα τουρκικά όλες οι συναλλαγές και οι κτήσεις γης. Με την έλευση της Αγγλοκρατίας (1878) κατέστη αναγκαία η μετάφραση του Κώδικα, διαδικασία εξαιρετικά χρονοβόρα, καθώς και η δημιουργία ενός σύγχρονου χάρτη για τη διοίκηση και την ανάπτυξη του νησιού.\n\nΠροκειμένου να χαρτογραφήσει το νέο προτεκτοράτο της Βρετανικής Αυτοκρατορίας, ο 28χρονος απεσταλμένος του Υπουργείου Εξωτερικών χωρομέτρης Horatio Herbert Kitchener συναντήθηκε με τον Βρετανό Ύπατο Αρμοστή Sir Garnet Wolseley στο Μετόχι του Κύκκου, λίγο έξω από τη Λευκωσία, στις 15 Σεπτεμβρίου 1878. Ο Wolseley χρειαζόταν μια καταγραφή για το επόμενο οικονομικό έτος, ενώ ο Kitchener οραματιζόταν ένα χάρτη που θα αποτελούσε ‘υπόδειγμα στο είδος του, και οι ακαδημαϊκοί και οι αρχαιολόγοι του μέλλοντος θα του ήταν υπόχρεοι στο διηνεκές’. Οι δύο άνδρες ήλθαν σε ρήξη και τον επόμενο χρόνο οι εργασίες τριγωνισμού εγκαταλείφθηκαν λόγω έλλειψης πόρων. Το 1880 ο νέος Ύπατος Αρμοστής του νησιού Sir Robert Biddulph κάλεσε τον Kitchener να επιστρέψει. Ο Kitchener έφερε μαζί του τον George Gordon Hake, μια αμφιλεγόμενη προσωπικότητα, προκειμένου να συλλέξει αντικείμενα από ανασκαφές στο Κούριον και στη Σαλαμίνα και να τα πουλήσει για να χρηματοδοτήσει τη χωρομέτρηση του νησιού. Τα ευρήματα δεν ήταν σημαντικά, διότι τους είχε προλάβει ο Luigi Palma di Cesnola, και τελικά όσα συνελέγησαν καταγράφηκαν ερασιτεχνικά και διεσπάρησαν σε βρετανικά μουσεία. Στις αρμοδιότητες του Kitchener στην Κύπρο ήταν και η οργάνωση και μεταρρύθμιση του Κτηματολογίου για τη δίκαιη και ορθολογική μέθοδο μεταβίβασης γης και φορολόγησης των καλλιεργειών σε ολόκληρο το νησί./n/nΤο 1883 η καταγραφή είχε ολοκληρωθεί και το Κτηματολόγιο είχε οργανωθεί. Το 1885 ο εκδότης χαρτών Edward Stanford διαφήμισε τον χάρτη που προέκυψε ως εξής (εδώ σε μετάφραση):\n\nΧαράχθηκε σε [...] πλάκες χαλκού [...] όταν συντίθενται μαζί ως ενιαίος χάρτης οι διαστάσεις είναι 12 πόδια και 6 ίντσες επί 7 πόδια [...] Δείχνει τις επαρχίες και τις υποδιαιρέσεις τους [...] τους δρόμους που έχουν κατασκευασθεί και τις γραμμές του τηλεγράφου που ανεγέρθηκαν [...] τους αμπελώνες και τα δάση από έλατα και άλλα δέντρα· αδρές σχηματικές αποτυπώσεις των πόλεων και των χωριών, διακρίνοντας τα μουσουλμανικά και τα χριστιανικά χωριά· δίνει τις ελληνικές και τις τουρκικές ονομασίες, και ταυτοποιεί τους αρχαίους χώρους, με ξεχωριστούς τύπους. Σημειώνονται υδραγωγεία, πηγές, πηγάδια, μονές, ερείπια και άλλα ιδιαίτερα χαρακτηριστικά. Παρέχονται ακόμη σε γενικές γραμμές υψόμετρα λόφων και βουνών, πόλεων και χωριών, από τη στάθμη της θάλασσας, και ορόσημα αποστάσεων, οι οποίες γράφονται δίπλα σε μίλια, όπως ίσχυαν κατά την τελική αναθεώρηση. [...] Είναι η πρώτη χωρομέτρηση που πραγματοποιήθηκε ποτέ σε αυτό το ενδιαφέρον νησί, και αποτελεί αφεαυτή ένα ευγενές αποτέλεσμα της Αγγλικής Κατοχής.\n\nΤο ερώτημα που τέθηκε από το Sylvia Ioannou Foundation στο Τμήμα Γεωγραφίας του Χαροκοπείου Πανεπιστημίου είναι κατά πόσο ισχύουν τα όσα διαφήμιζε o Stanford και πόσο πλησίασε το όραμά του ο Kitchener./n/nΦεύγοντας από την Κύπρο, ο Kitchener συνέχισε τη στρατιωτική του καριέρα. Οι περίφημες νίκες του στο Σουδάν και στη Νότιο Αφρική του απέφεραν τον τίτλο του Υποκόμη, αλλά και τον χαρακτηρισμό ‘Στρατηγός χωρίς ψυχή’. Το 1914, στο ξέσπασμα του Α΄ Παγκοσμίου Πολέμου και ενώ ήταν αρχηγός στρατού των Ινδιών, ανεκλήθη από τον Βρετανό Πρωθυπουργό H. H. Asquith για να αναλάβει Υπουργός Πολέμου. Η φήμη και η επιρροή του Kitchener ήταν τόσο μεγάλη ώστε, σε σύνολο 2.675.149 εθελοντών που κατετάγησαν στη διάρκεια των τεσσάρων ετών του Πολέμου, οι 462.901 ενεγράφησαν τον Σεπτέμβριο του 1914, όταν κυκλοφόρησε η διάσημη πλέον αφίσα στρατολόγησης με τη φωτογραφία του."
        
        
        let englishText = "In 1885, Horatio Herbert Kitchener’s map of Cyprus, which was the result of the first scientific survey of the island, was published in London by Edward Stanford of 55 Charing Cross Road, SW.\n\nThe map was printed in 16 sheets and became a cartographic model up to the middle of the 20th century. This map, of pivotal importance for the cartography of Cyprus, contains a multitude of significant information regarding the geography, history and culture of the island. Even today, much of this data requires attentive research by the scientific community.\n\nThis web application for exploring Kitchener’s survey was developed on the basis of Sylvia Ioannou Foundation particular interest in the historic cartography of Cyprus, as well as the interest of the Department of Geography Department of the Harokopio University concerning the scientific approach to similar topics.\n\nOn the one hand, the application constitutes a digital repository of the original map and offers online access to researchers worldwide. On the other hand, thanks to the database created, where all the information found on Kitchener’s map is registered and categorised, the user is able to search for specific points or entire fields of interest (for example, from a particular spring to the whole hydrographic network; from a single village to all settlements per religion of population, etc.). Furthermore, through the option to connect with modern background basemaps, it facilitates the comparison of the information provided by Kitchener with respective modern data. Along with its obvious practicality related to the cartography, geography, history and culture of Cyprus, this application aspires to become a starting point for interdisciplinary cooperation and to provide the necessary technical expertise for the development of similar research projects in the future.\n\nKitchener\'s survey of Cyprus\n\nDuring the Ottoman Empire’s dominance, the Ottoman Land Code was enacted in Cyprus. This was a cadastre in which all land acquisition deeds and transactions were recorded by means of draft drawings and descriptions in Turkish. When Cyprus became a British protectorate in 1878, the translation of the Land Code – an extremely time consuming process – and the compilation of a modern map were deemed necessary to facilitate the administration and development of the island.\n\nIn order to map the new protectorate of the British Empire, the 28-year old army surveyor and Foreign Office delegate Horatio Herbert Kitchener met with the British High Commissioner, Sir Garnet Wolseley, at the dependency of the Kykkos Monastery just outside Nicosia on 15 September 1878. Wolseley needed a survey for the next financial year, while Kitchener envisioned a map that would ‘be a model of its kind, and future scholars and archaeologists would be permanently in his debt’. The two men came to a rift, and in the next year the triangulation works were abandoned due to lack of resources. In 1880, Sir Robert Biddulph, who succeeded Wolseley as High Commissioner of the island, invited Kitchener back. Kitchener brought along George Gordon Hake, a somewhat controversial figure, to collect and sell findings from excavations in Kourion and Salamina to help fund the island’s survey. Those findings were not significant, as Luigi Palma di Cesnola had been there before. Finally, everything collected was catalogued in an amateur manner and scattered around British museums. While in Cyprus, Kitchener was also responsible for the organisation and reformation of the Land Registry as a just and rational means of land acquisition and crop taxing throughout the island.\n\nBy 1883, the survey was completed and the Land Registry was organised. In 1885, the map publisher Edward Stanford promoted the map as follows:\n\nt has been engraved on [...] copper plates [...] when mounted together as one Map measuring 12 feet 6 inches by 7 feet [...] It shews the Districts and Sub-districts [...] the Roads that have been constructed, and the Telegraph Lines erected [...] the Vineyards and Forests of Fir and other trees; block plans of the Towns and Villages, distinguishing Moslem and Christian Villages; gives the Greek and Turkish names, and the identification of Ancient Sites, in distinct types. Aqueducts, Springs, Wells, Monasteries, Ruins, and other particulars are engraved. Heights of Hills and Mountains, Towns and Villages, above the level of the Sea, are also pretty generally supplied, and Mile-stones, with the mileage written against them, engraved so far as they had been erected at the moment of final revision. [...] It is the first Survey ever executed of this interesting Island, and is in itself a noble result of the English Occupation.\n\nThe question posed by the Sylvia Ioannou Foundation to the Department of Geography of the Harokopio University was whether all claims by Stanford were true and how close Kitchener actually came to his vision.\n\nAfter leaving Cyprus, Kitchener went on with his military career. His renowned victories in the Sudan and in South Africa earned him the title of Viscount Kitchener, but also the nickname ‘Soulless Commander’. In 1914, on the verge of Word World I and while Kitchener was Commander-in-Chief in India, Prime Minister Herbert Asquith asked him to return to England in order to become Secretary of State for War. Kitchener’s reputation and influence were so great that, among a total of 2,675,149 volunteers who enlisted during all four years of the Great War, 462,901 of those volunteers alone enlisted in September 1914, when the famous recruitment poster with his picture appeared."
        
        label.text = isGreek ? greekText : englishText
    }
    
    @IBAction func onSilviaTapped(_ sender: Any) {
        let isGreek = LocaleHelper.shared.language == .greek
        let urlString = isGreek ? "https://www.sylviaioannoufoundation.org/el/" : "https://www.sylviaioannoufoundation.org/en/"
        guard let url = URL(string: urlString) else { return }
        let svc = SFSafariViewController(url: url)
        parent?.parent?.present(svc, animated: true, completion: nil)
    }
    
    @IBAction func onHarokopioTapped(_ sender: Any) {
        let urlString = "https://www.hua.gr"
        guard let url = URL(string: urlString) else { return }
        let svc = SFSafariViewController(url: url)
        parent?.parent?.present(svc, animated: true, completion: nil)
    }
}
